Tue May 31 03:16:59 AM EDT 2022

davidho@dphxps17:~$ date
Tue May 31 03:16:27 AM EDT 2022
davidho@dphxps17:~$ date > stuff-20220531.txt
davidho@dphxps17:~$ code   stuff-20220531.txt 
davidho@dphxps17:~$ 
davidho@dphxps17:~$ neofetch --off
davidho@dphxps17 
---------------- 
OS: Ubuntu 22.04 LTS x86_64 
Host: XPS 17 9710 
Kernel: 5.15.0-33-generic 
Uptime: 11 mins 
Packages: 1930 (dpkg), 10 (snap) 
Shell: bash 5.1.16 
Resolution: 3840x2400 
DE: GNOME 42.0 
WM: Mutter 
WM Theme: Adwaita 
Theme: Yaru [GTK2/3] 
Icons: Yaru [GTK2/3] 
Terminal: gnome-terminal 
CPU: 11th Gen Intel i7-11800H (16) @ 4.600GHz 
GPU: Intel TigerLake-H GT1 [UHD Graphics] 
GPU: NVIDIA GeForce RTX 3060 Mobile / Max-Q 
Memory: 3531MiB / 31829MiB 

davidho@dphxps17:~$ 
davidho@dphxps17:~$ mkdir rubyprojects
davidho@dphxps17:~$ mkdir railsprojects
davidho@dphxps17:~$ 
davidho@dphxps17:~$ cd railsprojects/
davidho@dphxps17:~/railsprojects$ 
davidho@dphxps17:~/railsprojects$ ruby --version
ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [x86_64-linux]
davidho@dphxps17:~/railsprojects$ rails --version
Rails 7.0.3
davidho@dphxps17:~/railsprojects$ rbenv --version
rbenv 1.2.0-14-gc6cc0a1
davidho@dphxps17:~/railsprojects$ nvm --version
0.39.1
davidho@dphxps17:~/railsprojects$ node --version
v18.2.0
davidho@dphxps17:~/railsprojects$ npm --version
8.9.0
davidho@dphxps17:~/railsprojects$ yarn --version
1.22.19
davidho@dphxps17:~/railsprojects$ mysql --version
mysql  Ver 8.0.29-0ubuntu0.22.04.2 for Linux on x86_64 ((Ubuntu))
davidho@dphxps17:~/railsprojects$ 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

Agile Web Developmentr with Rails 7

rails new depot --css tailwind
cd depot
ls -p
bin/rails generate scaffold Product \
  title:string description:text image_url:string price:decimal
bin/rails db:migrate
bin/dev

http://localhost:3000/
http://localhost:3000/products

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~/railsprojects$ 
davidho@dphxps17:~/railsprojects$ rails new depot --css tailwind
      create  
      create  README.md
      create  Rakefile
      create  .ruby-version
      create  config.ru
      create  .gitignore
      create  .gitattributes
      create  Gemfile
         run  git init from "."
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch <name>
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m <name>
Initialized empty Git repository in /home/davidho/railsprojects/depot/.git/
      create  app
      create  app/assets/config/manifest.js
      create  app/assets/stylesheets/application.css
      create  app/channels/application_cable/channel.rb
      create  app/channels/application_cable/connection.rb
      create  app/controllers/application_controller.rb
      create  app/helpers/application_helper.rb
      create  app/jobs/application_job.rb
      create  app/mailers/application_mailer.rb
      create  app/models/application_record.rb
      create  app/views/layouts/application.html.erb
      create  app/views/layouts/mailer.html.erb
      create  app/views/layouts/mailer.text.erb
      create  app/assets/images
      create  app/assets/images/.keep
      create  app/controllers/concerns/.keep
      create  app/models/concerns/.keep
      create  bin
      create  bin/rails
      create  bin/rake
      create  bin/setup
      create  config
      create  config/routes.rb
      create  config/application.rb
      create  config/environment.rb
      create  config/cable.yml
      create  config/puma.rb
      create  config/storage.yml
      create  config/environments
      create  config/environments/development.rb
      create  config/environments/production.rb
      create  config/environments/test.rb
      create  config/initializers
      create  config/initializers/assets.rb
      create  config/initializers/content_security_policy.rb
      create  config/initializers/cors.rb
      create  config/initializers/filter_parameter_logging.rb
      create  config/initializers/inflections.rb
      create  config/initializers/new_framework_defaults_7_0.rb
      create  config/initializers/permissions_policy.rb
      create  config/locales
      create  config/locales/en.yml
      create  config/master.key
      append  .gitignore
      create  config/boot.rb
      create  config/database.yml
      create  db
      create  db/seeds.rb
      create  lib
      create  lib/tasks
      create  lib/tasks/.keep
      create  lib/assets
      create  lib/assets/.keep
      create  log
      create  log/.keep
      create  public
      create  public/404.html
      create  public/422.html
      create  public/500.html
      create  public/apple-touch-icon-precomposed.png
      create  public/apple-touch-icon.png
      create  public/favicon.ico
      create  public/robots.txt
      create  tmp
      create  tmp/.keep
      create  tmp/pids
      create  tmp/pids/.keep
      create  tmp/cache
      create  tmp/cache/assets
      create  vendor
      create  vendor/.keep
      create  test/fixtures/files
      create  test/fixtures/files/.keep
      create  test/controllers
      create  test/controllers/.keep
      create  test/mailers
      create  test/mailers/.keep
      create  test/models
      create  test/models/.keep
      create  test/helpers
      create  test/helpers/.keep
      create  test/integration
      create  test/integration/.keep
      create  test/channels/application_cable/connection_test.rb
      create  test/test_helper.rb
      create  test/system
      create  test/system/.keep
      create  test/application_system_test_case.rb
      create  storage
      create  storage/.keep
      create  tmp/storage
      create  tmp/storage/.keep
      remove  config/initializers/cors.rb
      remove  config/initializers/new_framework_defaults_7_0.rb
         run  bundle install
Fetching gem metadata from https://rubygems.org/...........
Resolving dependencies...
Using rake 13.0.6
Using concurrent-ruby 1.1.10
Using builder 3.2.4
Using erubi 1.10.0
Using racc 1.6.0
Using nio4r 2.5.8
Using websocket-extensions 0.1.5
Using marcel 1.0.2
Using mini_mime 1.1.2
Using digest 3.1.0
Using timeout 0.3.0
Using strscan 3.0.3
Using public_suffix 4.0.7
Using bindex 0.8.1
Fetching msgpack 1.5.2
Using bundler 2.3.14
Using matrix 0.4.2
Fetching regexp_parser 2.5.0
Using childprocess 4.1.0
Using io-console 0.5.11
Using method_source 1.0.0
Using thor 1.2.1
Using zeitwerk 2.5.4
Using rexml 3.2.5
Using i18n 1.10.0
Using websocket-driver 0.7.5
Using mail 2.7.1
Using net-protocol 0.1.3
Using reline 0.3.1
Fetching rack 2.2.3.1
Using rubyzip 2.3.2
Fetching websocket 1.2.9
Using net-smtp 0.3.1
Using irb 1.4.1
Using nokogiri 1.13.6 (x86_64-linux)
Using sqlite3 1.4.2
Using xpath 3.2.0
Using addressable 2.8.0
Using crass 1.0.6
Using puma 5.6.4
Using loofah 2.18.0
Using net-imap 0.2.3
Using debug 1.5.0
Using minitest 5.15.0
Using net-pop 0.1.1
Using tzinfo 2.0.4
Using rails-html-sanitizer 1.4.2
Using activesupport 7.0.3
Using rails-dom-testing 2.0.3
Using globalid 1.0.0
Using activemodel 7.0.3
Using actionview 7.0.3
Using activejob 7.0.3
Using activerecord 7.0.3
Using jbuilder 2.11.5
Installing websocket 1.2.9
Installing regexp_parser 2.5.0
Installing msgpack 1.5.2 with native extensions
Installing rack 2.2.3.1
Fetching selenium-webdriver 4.2.0
Using rack-test 1.1.0
Using sprockets 4.0.3
Using actionpack 7.0.3
Using capybara 3.37.1
Using actionmailer 7.0.3
Using railties 7.0.3
Using sprockets-rails 3.4.2
Using activestorage 7.0.3
Using actioncable 7.0.3
Using actiontext 7.0.3
Using importmap-rails 1.1.0
Using stimulus-rails 1.0.4
Fetching tailwindcss-rails 2.0.8 (x86_64-linux)
Using turbo-rails 1.1.1
Using actionmailbox 7.0.3
Using web-console 4.2.0
Using rails 7.0.3
Installing selenium-webdriver 4.2.0
Using webdrivers 5.0.0
Installing tailwindcss-rails 2.0.8 (x86_64-linux)
Fetching bootsnap 1.12.0
Installing bootsnap 1.12.0 with native extensions
Bundle complete! 16 Gemfile dependencies, 75 gems now installed.
Use `bundle info [gemname]` to see where a bundled gem is installed.
         run  bundle binstubs bundler
       rails  importmap:install
Add Importmap include tags in application layout
      insert  app/views/layouts/application.html.erb
Create application.js module as entrypoint
      create  app/javascript/application.js
Use vendor/javascript for downloaded pins
      create  vendor/javascript
      create  vendor/javascript/.keep
Ensure JavaScript files are in the Sprocket manifest
      append  app/assets/config/manifest.js
Configure importmap paths in config/importmap.rb
      create  config/importmap.rb
Copying binstub
      create  bin/importmap
       rails  turbo:install stimulus:install
Import Turbo
      append  app/javascript/application.js
Pin Turbo
      append  config/importmap.rb
Run turbo:install:redis to switch on Redis and use it in development for turbo streams
Create controllers directory
      create  app/javascript/controllers
      create  app/javascript/controllers/index.js
      create  app/javascript/controllers/application.js
      create  app/javascript/controllers/hello_controller.js
Import Stimulus controllers
      append  app/javascript/application.js
Pin Stimulus
Appending: pin "@hotwired/stimulus", to: "stimulus.min.js", preload: true"
      append  config/importmap.rb
Appending: pin "@hotwired/stimulus-loading", to: "stimulus-loading.js", preload: true
      append  config/importmap.rb
Pin all controllers
Appending: pin_all_from "app/javascript/controllers", under: "controllers"
      append  config/importmap.rb
       rails  tailwindcss:install
Add Tailwindcss include tags and container element in application layout
      insert  app/views/layouts/application.html.erb
      insert  app/views/layouts/application.html.erb
      insert  app/views/layouts/application.html.erb
Build into app/assets/builds
      create  app/assets/builds
      create  app/assets/builds/.keep
      append  app/assets/config/manifest.js
      append  .gitignore
Add default config/tailwindcss.config.js
      create  config/tailwind.config.js
Add default app/assets/stylesheets/application.tailwind.css
      create  app/assets/stylesheets/application.tailwind.css
Add default Procfile.dev
      create  Procfile.dev
Ensure foreman is installed
         run  gem install foreman from "."
Fetching foreman-0.87.2.gem
Successfully installed foreman-0.87.2
1 gem installed
Add bin/dev to start foreman
      create  bin/dev
Compile initial Tailwind build
         run  rails tailwindcss:build from "."
+ /home/davidho/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/tailwindcss-rails-2.0.8-x86_64-linux/exe/x86_64-linux/tailwindcss -i /home/davidho/railsprojects/depot/app/assets/stylesheets/application.tailwind.css -o /home/davidho/railsprojects/depot/app/assets/builds/tailwind.css -c /home/davidho/railsprojects/depot/config/tailwind.config.js --minify

Done in 245ms.
davidho@dphxps17:~/railsprojects$ 
davidho@dphxps17:~/railsprojects$ cd depot
davidho@dphxps17:~/railsprojects/depot$ ls -p
app/  config/    db/      Gemfile.lock  log/          public/   README.md  test/  vendor/
bin/  config.ru  Gemfile  lib/          Procfile.dev  Rakefile  storage/   tmp/
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ bin/rails generate scaffold Product \
  title:string description:text image_url:string price:decimal
      invoke  active_record
      create    db/migrate/20220531073210_create_products.rb
      create    app/models/product.rb
      invoke    test_unit
      create      test/models/product_test.rb
      create      test/fixtures/products.yml
      invoke  resource_route
       route    resources :products
      invoke  scaffold_controller
      create    app/controllers/products_controller.rb
      invoke    tailwindcss
      create      app/views/products
      create      app/views/products/index.html.erb
      create      app/views/products/edit.html.erb
      create      app/views/products/show.html.erb
      create      app/views/products/new.html.erb
      create      app/views/products/_form.html.erb
      create      app/views/products/_product.html.erb
      invoke    resource_route
      invoke    test_unit
      create      test/controllers/products_controller_test.rb
      create      test/system/products_test.rb
      invoke    helper
      create      app/helpers/products_helper.rb
      invoke      test_unit
      invoke    jbuilder
      create      app/views/products/index.json.jbuilder
      create      app/views/products/show.json.jbuilder
      create      app/views/products/_product.json.jbuilder
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ ls -latr db/migrate/
total 12
-rw-rw-r-- 1 davidho davidho  234 May 31 03:32 20220531073210_create_products.rb
drwxrwxr-x 3 davidho davidho 4096 May 31 03:32 ..
drwxrwxr-x 2 davidho davidho 4096 May 31 03:32 .
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ cat db/migrate/20220531073210_create_products.rb 
class CreateProducts < ActiveRecord::Migration[7.0]
  def change
    create_table :products do |t|
      t.string :title
      t.text :description
      t.string :image_url
      t.decimal :price

      t.timestamps
    end
  end
end
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ bin/rails db:migrate
== 20220531073210 CreateProducts: migrating ===================================
-- create_table(:products)
   -> 0.0009s
== 20220531073210 CreateProducts: migrated (0.0009s) ==========================

davidho@dphxps17:~/railsprojects/depot$ bin/dev
Installing foreman...
Successfully installed foreman-0.87.2
1 gem installed
03:36:10 web.1  | started with pid 8078
03:36:10 css.1  | started with pid 8079
03:36:11 web.1  | => Booting Puma
03:36:11 web.1  | => Rails 7.0.3 application starting in development 
03:36:11 web.1  | => Run `bin/rails server --help` for more startup options
03:36:11 web.1  | Puma starting in single mode...
03:36:11 web.1  | * Puma version: 5.6.4 (ruby 3.1.2-p20) ("Birdie's Version")
03:36:11 web.1  | *  Min threads: 5
03:36:11 web.1  | *  Max threads: 5
03:36:11 web.1  | *  Environment: development
03:36:11 web.1  | *          PID: 8078
03:36:11 web.1  | * Listening on http://127.0.0.1:3000
03:36:11 web.1  | * Listening on http://[::1]:3000
03:36:11 web.1  | Use Ctrl-C to stop
03:36:11 css.1  | 
03:36:11 css.1  | Rebuilding...
03:36:12 css.1  | Done in 274ms.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~/railsprojects/depot$ bin/dev
Installing foreman...
Successfully installed foreman-0.87.2
1 gem installed
03:36:10 web.1  | started with pid 8078
03:36:10 css.1  | started with pid 8079
03:36:11 web.1  | => Booting Puma
03:36:11 web.1  | => Rails 7.0.3 application starting in development 
03:36:11 web.1  | => Run `bin/rails server --help` for more startup options
03:36:11 web.1  | Puma starting in single mode...
03:36:11 web.1  | * Puma version: 5.6.4 (ruby 3.1.2-p20) ("Birdie's Version")
03:36:11 web.1  | *  Min threads: 5
03:36:11 web.1  | *  Max threads: 5
03:36:11 web.1  | *  Environment: development
03:36:11 web.1  | *          PID: 8078
03:36:11 web.1  | * Listening on http://127.0.0.1:3000
03:36:11 web.1  | * Listening on http://[::1]:3000
03:36:11 web.1  | Use Ctrl-C to stop
03:36:11 css.1  | 
03:36:11 css.1  | Rebuilding...
03:36:12 css.1  | Done in 274ms.
03:37:33 web.1  | Started GET "/" for 127.0.0.1 at 2022-05-31 03:37:33 -0400
03:37:33 web.1  |    (0.2ms)  SELECT sqlite_version(*)
03:37:33 web.1  |   ActiveRecord::SchemaMigration Pluck (0.1ms)  SELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC
03:37:33 web.1  | Processing by Rails::WelcomeController#index as HTML
03:37:33 web.1  |   Rendering /home/davidho/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-7.0.3/lib/rails/templates/rails/welcome/index.html.erb
03:37:33 web.1  |   Rendered /home/davidho/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-7.0.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.6ms | Allocations: 643)
03:37:33 web.1  | Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 5035)
03:37:33 web.1  | 
03:37:33 web.1  | 
03:38:48 web.1  | Started GET "/products" for 127.0.0.1 at 2022-05-31 03:38:48 -0400
03:38:48 web.1  | Processing by ProductsController#index as HTML
03:38:48 web.1  |   Rendering layout layouts/application.html.erb
03:38:48 web.1  |   Rendering products/index.html.erb within layouts/application
03:38:48 web.1  |   Product Load (0.2ms)  SELECT "products".* FROM "products"
03:38:48 web.1  |   ↳ app/views/products/index.html.erb:12
03:38:48 web.1  |   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 30)
03:38:48 web.1  |   Rendered products/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1571)
03:38:48 web.1  |   Rendered layout layouts/application.html.erb (Duration: 173.1ms | Allocations: 141029)
03:38:48 web.1  | Completed 200 OK in 176ms (Views: 174.0ms | ActiveRecord: 0.2ms | Allocations: 142883)
03:38:48 web.1  | 
03:38:48 web.1  | 
03:38:55 web.1  | Started GET "/products/new" for 127.0.0.1 at 2022-05-31 03:38:55 -0400
03:38:55 web.1  | Processing by ProductsController#new as HTML
03:38:55 web.1  |   Rendering layout layouts/application.html.erb
03:38:55 web.1  |   Rendering products/new.html.erb within layouts/application
03:38:55 web.1  |   Rendered products/_form.html.erb (Duration: 7.0ms | Allocations: 5630)
03:38:55 web.1  |   Rendered products/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6016)
03:38:55 web.1  |   Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 12750)
03:38:55 web.1  | Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 17713)
03:38:55 web.1  | 
03:38:55 web.1  | 
03:39:36 web.1  | Started POST "/products" for 127.0.0.1 at 2022-05-31 03:39:36 -0400
03:39:36 web.1  | Processing by ProductsController#create as TURBO_STREAM
03:39:36 web.1  |   Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"foo", "description"=>"bar", "image_url"=>"baz", "price"=>"19.95"}, "commit"=>"Create Product"}
03:39:36 web.1  |   TRANSACTION (0.1ms)  begin transaction
03:39:36 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:39:36 web.1  |   Product Create (0.2ms)  INSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "foo"], ["description", "bar"], ["image_url", "baz"], ["price", 19.95], ["created_at", "2022-05-31 07:39:36.973869"], ["updated_at", "2022-05-31 07:39:36.973869"]]
03:39:36 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:39:36 web.1  |   TRANSACTION (2.3ms)  commit transaction
03:39:36 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:39:36 web.1  | Redirected to http://localhost:3000/products/1
03:39:36 web.1  | Completed 302 Found in 7ms (ActiveRecord: 2.6ms | Allocations: 3893)
03:39:36 web.1  | 
03:39:36 web.1  | 
03:39:36 web.1  | Started GET "/products/1" for 127.0.0.1 at 2022-05-31 03:39:36 -0400
03:39:36 web.1  | Processing by ProductsController#show as TURBO_STREAM
03:39:36 web.1  |   Parameters: {"id"=>"1"}
03:39:36 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?  [["id", 1], ["LIMIT", 1]]
03:39:36 web.1  |   ↳ app/controllers/products_controller.rb:63:in `set_product'
03:39:36 web.1  |   Rendering layout layouts/application.html.erb
03:39:36 web.1  |   Rendering products/show.html.erb within layouts/application
03:39:36 web.1  |   Rendered products/_product.html.erb (Duration: 0.5ms | Allocations: 384)
03:39:36 web.1  |   Rendered products/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1832)
03:39:36 web.1  |   Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 8561)
03:39:36 web.1  | Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms | Allocations: 11359)
03:39:36 web.1  | 
03:39:36 web.1  | 
03:39:47 web.1  | Started GET "/products" for 127.0.0.1 at 2022-05-31 03:39:47 -0400
03:39:47 web.1  | Processing by ProductsController#index as HTML
03:39:47 web.1  |   Rendering layout layouts/application.html.erb
03:39:47 web.1  |   Rendering products/index.html.erb within layouts/application
03:39:47 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products"
03:39:47 web.1  |   ↳ app/views/products/index.html.erb:12
03:39:47 web.1  |   Rendered collection of products/_product.html.erb [1 times] (Duration: 1.0ms | Allocations: 442)
03:39:48 web.1  |   Rendered products/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1539)
03:39:48 web.1  |   Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 8159)
03:39:48 web.1  | Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.1ms | Allocations: 8475)
03:39:48 web.1  | 
03:39:48 web.1  | 
03:39:58 web.1  | Started GET "/products/1" for 127.0.0.1 at 2022-05-31 03:39:58 -0400
03:39:58 web.1  | Processing by ProductsController#show as HTML
03:39:58 web.1  |   Parameters: {"id"=>"1"}
03:39:58 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?  [["id", 1], ["LIMIT", 1]]
03:39:58 web.1  |   ↳ app/controllers/products_controller.rb:63:in `set_product'
03:39:58 web.1  |   Rendering layout layouts/application.html.erb
03:39:58 web.1  |   Rendering products/show.html.erb within layouts/application
03:39:58 web.1  |   Rendered products/_product.html.erb (Duration: 0.1ms | Allocations: 33)
03:39:58 web.1  |   Rendered products/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 609)
03:39:58 web.1  |   Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 7216)
03:39:58 web.1  | Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 7997)
03:39:58 web.1  | 
03:39:58 web.1  | 
03:40:01 web.1  | Started GET "/products" for 127.0.0.1 at 2022-05-31 03:40:01 -0400
03:40:01 web.1  | Processing by ProductsController#index as HTML
03:40:01 web.1  |   Rendering layout layouts/application.html.erb
03:40:01 web.1  |   Rendering products/index.html.erb within layouts/application
03:40:01 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products"
03:40:01 web.1  |   ↳ app/views/products/index.html.erb:12
03:40:01 web.1  |   Rendered collection of products/_product.html.erb [1 times] (Duration: 0.2ms | Allocations: 130)
03:40:01 web.1  |   Rendered products/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1064)
03:40:01 web.1  |   Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 7802)
03:40:01 web.1  | Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.1ms | Allocations: 8095)
03:40:01 web.1  | 
03:40:01 web.1  | 
03:40:06 web.1  | Started GET "/products/new" for 127.0.0.1 at 2022-05-31 03:40:06 -0400
03:40:06 web.1  | Processing by ProductsController#new as HTML
03:40:06 web.1  |   Rendering layout layouts/application.html.erb
03:40:06 web.1  |   Rendering products/new.html.erb within layouts/application
03:40:06 web.1  |   Rendered products/_form.html.erb (Duration: 1.3ms | Allocations: 1541)
03:40:06 web.1  |   Rendered products/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1661)
03:40:06 web.1  |   Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 8286)
03:40:06 web.1  | Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 8575)
03:40:06 web.1  | 
03:40:06 web.1  | 
03:40:23 web.1  | Started POST "/products" for 127.0.0.1 at 2022-05-31 03:40:23 -0400
03:40:23 web.1  | Processing by ProductsController#create as TURBO_STREAM
03:40:23 web.1  |   Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"apple", "description"=>"banana", "image_url"=>"cherry", "price"=>"9.95"}, "commit"=>"Create Product"}
03:40:23 web.1  |   TRANSACTION (0.1ms)  begin transaction
03:40:23 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:40:23 web.1  |   Product Create (0.4ms)  INSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "apple"], ["description", "banana"], ["image_url", "cherry"], ["price", 9.95], ["created_at", "2022-05-31 07:40:23.974301"], ["updated_at", "2022-05-31 07:40:23.974301"]]
03:40:23 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:40:23 web.1  |   TRANSACTION (2.7ms)  commit transaction
03:40:23 web.1  |   ↳ app/controllers/products_controller.rb:27:in `block in create'
03:40:23 web.1  | Redirected to http://localhost:3000/products/2
03:40:23 web.1  | Completed 302 Found in 11ms (ActiveRecord: 3.2ms | Allocations: 2404)
03:40:23 web.1  | 
03:40:23 web.1  | 
03:40:23 web.1  | Started GET "/products/2" for 127.0.0.1 at 2022-05-31 03:40:23 -0400
03:40:23 web.1  | Processing by ProductsController#show as TURBO_STREAM
03:40:23 web.1  |   Parameters: {"id"=>"2"}
03:40:23 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?  [["id", 2], ["LIMIT", 1]]
03:40:23 web.1  |   ↳ app/controllers/products_controller.rb:63:in `set_product'
03:40:23 web.1  |   Rendering layout layouts/application.html.erb
03:40:23 web.1  |   Rendering products/show.html.erb within layouts/application
03:40:23 web.1  |   Rendered products/_product.html.erb (Duration: 0.1ms | Allocations: 33)
03:40:23 web.1  |   Rendered products/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 626)
03:40:24 web.1  |   Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 7250)
03:40:24 web.1  | Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms | Allocations: 8012)
03:40:24 web.1  | 
03:40:24 web.1  | 
03:40:28 web.1  | Started GET "/products" for 127.0.0.1 at 2022-05-31 03:40:28 -0400
03:40:28 web.1  | Processing by ProductsController#index as HTML
03:40:28 web.1  |   Rendering layout layouts/application.html.erb
03:40:28 web.1  |   Rendering products/index.html.erb within layouts/application
03:40:28 web.1  |   Product Load (0.1ms)  SELECT "products".* FROM "products"
03:40:28 web.1  |   ↳ app/views/products/index.html.erb:12
03:40:28 web.1  |   Rendered collection of products/_product.html.erb [2 times] (Duration: 0.2ms | Allocations: 248)
03:40:28 web.1  |   Rendered products/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1188)
03:40:28 web.1  |   Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 7808)
03:40:28 web.1  | Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.1ms | Allocations: 8089)
03:40:28 web.1  | 
03:40:28 web.1  | 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~$ cd railsprojects/depot
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ code .
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ ls -latr 
total 96
drwxrwxr-x  3 davidho davidho 4096 May 31 03:29 ..
-rw-rw-r--  1 davidho davidho    6 May 31 03:29 .ruby-version
-rw-rw-r--  1 davidho davidho  374 May 31 03:29 README.md
-rw-rw-r--  1 davidho davidho  227 May 31 03:29 Rakefile
-rw-rw-r--  1 davidho davidho  246 May 31 03:29 .gitattributes
-rw-rw-r--  1 davidho davidho 2359 May 31 03:29 Gemfile
-rw-rw-r--  1 davidho davidho  160 May 31 03:29 config.ru
drwxrwxr-x  7 davidho davidho 4096 May 31 03:29 .git
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 public
drwxrwxr-x  4 davidho davidho 4096 May 31 03:29 lib
drwxrwxr-x 10 davidho davidho 4096 May 31 03:29 test
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 storage
-rw-rw-r--  1 davidho davidho 5599 May 31 03:29 Gemfile.lock
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 log
drwxrwxr-x  3 davidho davidho 4096 May 31 03:29 vendor
drwxrwxr-x 11 davidho davidho 4096 May 31 03:29 app
-rw-rw-r--  1 davidho davidho   63 May 31 03:29 Procfile.dev
-rw-rw-r--  1 davidho davidho  826 May 31 03:29 .gitignore
drwxrwxr-x  5 davidho davidho 4096 May 31 03:29 config
drwxrwxr-x 14 davidho davidho 4096 May 31 03:29 .
drwxr-xr-x  2 davidho davidho 4096 May 31 03:29 bin
drwxrwxr-x  6 davidho davidho 4096 May 31 03:36 tmp
drwxrwxr-x  3 davidho davidho 4096 May 31 03:40 db
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ ls -latr config
total 68
-rw-rw-r--  1 davidho davidho 1152 May 31 03:29 storage.yml
-rw-rw-r--  1 davidho davidho 1792 May 31 03:29 puma.rb
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 environments
-rw-rw-r--  1 davidho davidho  128 May 31 03:29 environment.rb
-rw-rw-r--  1 davidho davidho  186 May 31 03:29 cable.yml
-rw-rw-r--  1 davidho davidho  702 May 31 03:29 application.rb
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 locales
-rw-------  1 davidho davidho   32 May 31 03:29 master.key
-rw-rw-r--  1 davidho davidho  620 May 31 03:29 database.yml
-rw-rw-r--  1 davidho davidho  464 May 31 03:29 credentials.yml.enc
-rw-rw-r--  1 davidho davidho  207 May 31 03:29 boot.rb
drwxrwxr-x  2 davidho davidho 4096 May 31 03:29 initializers
-rw-rw-r--  1 davidho davidho  345 May 31 03:29 importmap.rb
-rw-rw-r--  1 davidho davidho  464 May 31 03:29 tailwind.config.js
drwxrwxr-x 14 davidho davidho 4096 May 31 03:29 ..
drwxrwxr-x  5 davidho davidho 4096 May 31 03:29 .
-rw-rw-r--  1 davidho davidho  218 May 31 03:32 routes.rb
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ ls -latr db
total 48
-rw-rw-r--  1 davidho davidho   374 May 31 03:29 seeds.rb
drwxrwxr-x 14 davidho davidho  4096 May 31 03:29 ..
drwxrwxr-x  2 davidho davidho  4096 May 31 03:32 migrate
-rw-rw-r--  1 davidho davidho  1010 May 31 03:35 schema.rb
-rw-r--r--  1 davidho davidho 28672 May 31 03:40 development.sqlite3
drwxrwxr-x  3 davidho davidho  4096 May 31 03:40 .
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ cat config/database.yml 
# SQLite. Versions 3.8.0 and up are supported.
#   gem install sqlite3
#
#   Ensure the SQLite 3 gem is defined in your Gemfile
#   gem "sqlite3"
#
default: &default
  adapter: sqlite3
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  timeout: 5000

development:
  <<: *default
  database: db/development.sqlite3

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test:
  <<: *default
  database: db/test.sqlite3

production:
  <<: *default
  database: db/production.sqlite3
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ cat config/routes.rb 
Rails.application.routes.draw do
  resources :products
  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html

  # Defines the root path route ("/")
  # root "articles#index"
end
davidho@dphxps17:~/railsprojects/depot$ cat db/schema.rb 
# This file is auto-generated from the current state of the database. Instead
# of editing this file, please use the migrations feature of Active Record to
# incrementally modify your database, and then regenerate this schema definition.
#
# This file is the source Rails uses to define your schema when running `bin/rails
# db:schema:load`. When creating a new database, `bin/rails db:schema:load` tends to
# be faster and is potentially less error prone than running all of your
# migrations from scratch. Old migrations may fail to apply correctly if those
# migrations use external dependencies or application code.
#
# It's strongly recommended that you check this file into your version control system.

ActiveRecord::Schema[7.0].define(version: 2022_05_31_073210) do
  create_table "products", force: :cascade do |t|
    t.string "title"
    t.text "description"
    t.string "image_url"
    t.decimal "price"
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
  end

end
davidho@dphxps17:~/railsprojects/depot$ 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~/railsprojects/depot$ git push -u origin main
Enumerating objects: 116, done.
Counting objects: 100% (116/116), done.
Delta compression using up to 16 threads
Compressing objects: 100% (102/102), done.
Writing objects: 100% (116/116), 27.81 KiB | 5.56 MiB/s, done.
Total 116 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (3/3), done.
To github.com:ashburndev/depot.git
 * [new branch]      main -> main
Branch 'main' set up to track remote branch 'main' from 'origin'.
davidho@dphxps17:~/railsprojects/depot$ 
davidho@dphxps17:~/railsprojects/depot$ bin/rails console
Loading development environment (Rails 7.0.3)
irb(main):001:0> p = Product.first
   (0.3ms)  SELECT sqlite_version(*)
  Product Load (0.1ms)  SELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?  [["LIMIT", 1]]
=>                                                                     
#<Product:0x00007fc9332cbc68                                           
...                                                                    
irb(main):002:0> puts p
#<Product:0x00007fc9332cbc68>
=> nil                                                                 
irb(main):003:0> puts p.to_json
{"id":1,"title":"foo","description":"bar","image_url":"baz","price":"19.95","created_at":"2022-05-31T07:39:36.973Z","updated_at":"2022-05-31T07:39:36.973Z"}
=> nil                                                                 
irb(main):004:0> y p
--- !ruby/object:Product
concise_attributes:                                                    
- !ruby/object:ActiveModel::Attribute::FromDatabase                    
  name: id                                                        
  value_before_type_cast: 1                                       
- !ruby/object:ActiveModel::Attribute::FromDatabase               
  name: title                                                     
  value_before_type_cast: foo                                     
- !ruby/object:ActiveModel::Attribute::FromDatabase               
  name: description                                               
  value_before_type_cast: bar                                     
- !ruby/object:ActiveModel::Attribute::FromDatabase               
  name: image_url                                  
  value_before_type_cast: baz                      
- !ruby/object:ActiveModel::Attribute::FromDatabase
  name: price
  value_before_type_cast: 19.95
- !ruby/object:ActiveModel::Attribute::FromDatabase
  name: created_at
  value_before_type_cast: '2022-05-31 07:39:36.973869'
- !ruby/object:ActiveModel::Attribute::FromDatabase
  name: updated_at
  value_before_type_cast: '2022-05-31 07:39:36.973869'
new_record: false
active_record_yaml_version: 2
=> nil
irb(main):005:0> 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

git remote add origin git@github.com:ashburndev/depot.git
git branch -M main
git push -u origin main

https://www.digitalocean.com/community/tutorials/how-to-use-mysql-with-your-ruby-on-rails-application-on-ubuntu-14-04

rails new appname -d mysql
cd appname
vi config/database.yml

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

rails new depot2 --css tailwind -d mysql
cd depot2
ls -p
bin/rails generate scaffold Product \
  title:string description:text image_url:string price:decimal
bin/rails db:migrate
bin/dev

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~/railsprojects/depot2$ 
davidho@dphxps17:~/railsprojects/depot2$ cat config/database.yml 
# MySQL. Versions 5.5.8 and up are supported.
#
# Install the MySQL driver
#   gem install mysql2
#
# Ensure the MySQL gem is defined in your Gemfile
#   gem "mysql2"
#
# And be sure to use new-style password hashing:
#   https://dev.mysql.com/doc/refman/5.7/en/password-hashing.html
#
default: &default
  adapter: mysql2
  encoding: utf8mb4
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  username: root
  password:
  socket: /var/run/mysqld/mysqld.sock

development:
  <<: *default
  database: depot2_development

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test:
  <<: *default
  database: depot2_test

# As with config/credentials.yml, you never want to store sensitive information,
# like your database password, in your source code. If your source code is
# ever seen by anyone, they now have access to your database.
#
# Instead, provide the password or a full connection URL as an environment
# variable when you boot the app. For example:
#
#   DATABASE_URL="mysql2://myuser:mypass@localhost/somedatabase"
#
# If the connection URL is provided in the special DATABASE_URL environment
# variable, Rails will automatically merge its configuration values on top of
# the values provided in this file. Alternatively, you can specify a connection
# URL environment variable explicitly:
#
#   production:
#     url: <%= ENV["MY_APP_DATABASE_URL"] %>
#
# Read https://guides.rubyonrails.org/configuring.html#configuring-a-database
# for a full overview on how database connection configuration can be specified.
#
production:
  <<: *default
  database: depot2_production
  username: depot2
  password: <%= ENV["DEPOT2_DATABASE_PASSWORD"] %>
davidho@dphxps17:~/railsprojects/depot2$ 
davidho@dphxps17:~/railsprojects/depot2$ 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql

CREATE USER 'username'@'host' IDENTIFIED WITH authentication_plugin BY 'password';
GRANT PRIVILEGE ON database.table TO 'username'@'host';
CREATE USER 'sammy'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON *.* TO 'sammy'@'localhost' WITH GRANT OPTION;

CREATE DATABASE depot2_development;
CREATE USER 'railsuser'@'localhost' IDENTIFIED BY 'railsuserpw';
GRANT ALL PRIVILEGES ON depot2_development.* TO 'railsuser'@'localhost' WITH GRANT OPTION;

mysql> select Host, User from user;
+-----------+------------------+
| Host      | User             |
+-----------+------------------+
| localhost | debian-sys-maint |
| localhost | mysql.infoschema |
| localhost | mysql.session    |
| localhost | mysql.sys        |
| localhost | root             |
+-----------+------------------+
5 rows in set (0.00 sec)

mysql> 
mysql> 
mysql> CREATE DATABASE depot2_development;
Query OK, 1 row affected (0.01 sec)

mysql> CREATE USER 'railsuser'@'localhost' IDENTIFIED BY 'railsuserpw';
Query OK, 0 rows affected (0.02 sec)

mysql> GRANT ALL PRIVILEGES ON depot2_development.* TO 'railsuser'@'localhost' WITH GRANT OPTION;
Query OK, 0 rows affected (0.01 sec)

mysql> select Host, User from user;
+-----------+------------------+
| Host      | User             |
+-----------+------------------+
| localhost | debian-sys-maint |
| localhost | mysql.infoschema |
| localhost | mysql.session    |
| localhost | mysql.sys        |
| localhost | railsuser        |
| localhost | root             |
+-----------+------------------+
6 rows in set (0.00 sec)

mysql> 
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| depot2_development |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)

mysql> 
mysql> use depot2_development;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> 
mysql> show tables;
+------------------------------+
| Tables_in_depot2_development |
+------------------------------+
| ar_internal_metadata         |
| products                     |
| schema_migrations            |
+------------------------------+
3 rows in set (0.01 sec)

mysql> desc products;
+-------------+---------------+------+-----+---------+----------------+
| Field       | Type          | Null | Key | Default | Extra          |
+-------------+---------------+------+-----+---------+----------------+
| id          | bigint        | NO   | PRI | NULL    | auto_increment |
| title       | varchar(255)  | YES  |     | NULL    |                |
| description | text          | YES  |     | NULL    |                |
| image_url   | varchar(255)  | YES  |     | NULL    |                |
| price       | decimal(10,0) | YES  |     | NULL    |                |
| created_at  | datetime(6)   | NO   |     | NULL    |                |
| updated_at  | datetime(6)   | NO   |     | NULL    |                |
+-------------+---------------+------+-----+---------+----------------+
7 rows in set (0.00 sec)

mysql> select * from products;
+----+--------+-------------+-----------+-------+----------------------------+----------------------------+
| id | title  | description | image_url | price | created_at                 | updated_at                 |
+----+--------+-------------+-----------+-------+----------------------------+----------------------------+
|  1 | foo    | bar         | baz       |    19 | 2022-05-31 08:33:06.787707 | 2022-05-31 08:33:06.787707 |
|  2 | alpha  | bravo       | charlie   |     9 | 2022-05-31 08:33:37.325221 | 2022-05-31 08:33:37.325221 |
|  3 | wombat | yak         | zebra     |    99 | 2022-05-31 08:34:13.970846 | 2022-05-31 08:34:13.970846 |
+----+--------+-------------+-----------+-------+----------------------------+----------------------------+
3 rows in set (0.00 sec)

mysql> 

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

davidho@dphxps17:~$ cd railsprojects/depot2
davidho@dphxps17:~/railsprojects/depot2$ 
davidho@dphxps17:~/railsprojects/depot2$ ls db
migrate  schema.rb  seeds.rb
davidho@dphxps17:~/railsprojects/depot2$ 
davidho@dphxps17:~/railsprojects/depot2$ cat db/schema.rb 
# This file is auto-generated from the current state of the database. Instead
# of editing this file, please use the migrations feature of Active Record to
# incrementally modify your database, and then regenerate this schema definition.
#
# This file is the source Rails uses to define your schema when running `bin/rails
# db:schema:load`. When creating a new database, `bin/rails db:schema:load` tends to
# be faster and is potentially less error prone than running all of your
# migrations from scratch. Old migrations may fail to apply correctly if those
# migrations use external dependencies or application code.
#
# It's strongly recommended that you check this file into your version control system.

ActiveRecord::Schema[7.0].define(version: 2022_05_31_083201) do
  create_table "products", charset: "utf8mb4", collation: "utf8mb4_0900_ai_ci", force: :cascade do |t|
    t.string "title"
    t.text "description"
    t.string "image_url"
    t.decimal "price", precision: 10
    t.datetime "created_at", null: false
    t.datetime "updated_at", null: false
  end

end
davidho@dphxps17:~/railsprojects/depot2$ 

git remote add origin git@github.com:ashburndev/depot2.git
git branch -M main
git push -u origin main

